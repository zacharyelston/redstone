[SERVICE]
    Flush        5
    Daemon       Off
    Log_Level    info
    Parsers_File parsers.conf

# Input for Docker logs
[INPUT]
    Name        forward
    Listen      0.0.0.0
    Port        24224

# Docker container logs input - using only supported properties
[INPUT]
    Name             docker
    Tag              docker.*
    # Only using properties mentioned in error message
    Exclude          /var/lib/docker/volumes/*/postgresql/data/
    # Removed unsupported properties: DB, Mem_Buf_Limit, Docker_Mode, Docker_Mode_Flush

# Output to Loki
[OUTPUT]
    Name        loki
    Match       docker.*
    Host        ${LOKI_HOST}
    Port        ${LOKI_PORT}
    Labels      job=fluentbit, container_name=$container_name
    Label_Keys  $container_id,$container_name,$source
    Line_Format json
